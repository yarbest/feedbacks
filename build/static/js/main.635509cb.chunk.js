(this.webpackJsonplesson2=this.webpackJsonplesson2||[]).push([[0],{80:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),r=n(10),a=n.n(r),s=(n(80),n(28)),o=n(32),d=n(11),j=i.a.createContext(),l=n(60),b=n(53),u=n(133),O=n(130),x=n(135),f=n(129),p=n(126),h=n(127),m=n(125),g=n(128),k=n(121),v=n(136),y=n(63),C=n(132),E=n(4);function S(e){var t=e.dataToEdit;t=t||{};var n=Object(c.useContext)(j).setFeedbacks,i=Object(c.useState)(!1),r=Object(s.a)(i,2),a=r[0],o=r[1],d=Object(c.useState)(t.title||""),S=Object(s.a)(d,2),F=S[0],T=S[1],w=Object(c.useState)(t.description||""),P=Object(s.a)(w,2),R=P[0],I=P[1],B=Object(c.useState)(R.rating||2),D=Object(s.a)(B,2),J=D[0],K=D[1],L=function(){o(!1)},z=function(e){if(""!==F.trim()&&""!==R.trim()&&("keypress"!==e.type||"Enter"===e.key)){if(o(!1),"id"in t)return console.log(1),void n((function(e){return e.map((function(e){return e.id===t.id?Object(b.a)(Object(b.a)({},e),{},{title:F,description:R,rating:J}):e}))}));n((function(e){return[].concat(Object(l.a)(e),[{id:+Date.now(),title:F,description:R,rating:J}])}))}};return console.log("dataToEdit.id",t.id),Object(E.jsxs)("div",{children:[Object(E.jsx)(k.a,{container:!0,justifyContent:"center",children:Object(E.jsx)(u.a,{variant:"outlined",color:"primary",onClick:function(){o(!0)},children:t.id?"Edit feedback":"Send feedback"})}),Object(E.jsxs)(x.a,{open:a,onClose:L,"aria-labelledby":"form-dialog-title",children:[Object(E.jsx)(m.a,{id:"form-dialog-title",children:t.id?"Edit feedback":"Send feedback"}),Object(E.jsxs)(p.a,{children:[Object(E.jsx)(h.a,{children:"To leave your feedback, please enter title, rating and description here."}),Object(E.jsxs)(C.a,{component:"fieldset",borderColor:"transparent",children:[Object(E.jsx)(y.a,{component:"legend",children:"Rating"}),Object(E.jsx)(v.a,{name:"simple-controlled",value:J,onChange:function(e,t){K(t)}})]}),Object(E.jsx)(C.a,{component:"fieldset",mb:2,borderColor:"transparent",children:Object(E.jsx)(O.a,{onChange:function(e){return T(e.target.value)},onKeyPress:function(e){return z(e)},value:F,autoFocus:!0,margin:"dense",id:"name",label:"Title",type:"text",fullWidth:!0})}),Object(E.jsx)(C.a,{component:"fieldset",mb:2,borderColor:"transparent",children:Object(E.jsx)(g.a,{onChange:function(e){return I(e.target.value)},onKeyPress:function(e){return z(e)},value:R,minRows:3,maxRows:5,placeholder:"Description",style:{width:"100%",resize:"none"}})})]}),Object(E.jsxs)(f.a,{children:[Object(E.jsx)(u.a,{onClick:L,color:"primary",children:"Cancel"}),Object(E.jsx)(u.a,{onClick:z,color:"primary",children:"Send"})]})]})]})}function F(e){var t=e.feedback,n=t.id,i=t.title,r=(t.description,t.rating),a=Object(c.useContext)(j).setEditPostId;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(k.a,{container:!0,alignItems:"center",children:[Object(E.jsx)("span",{children:"Rating:"}),Object(E.jsx)(v.a,{name:"read-only",value:r,readOnly:!0}),Object(E.jsxs)("p",{style:{marginLeft:"20px"},children:["Title: ",i]}),Object(E.jsx)(o.b,{onClick:function(){return a(n)},to:"/post/".concat(n),style:{marginLeft:"auto",marginRight:"20px"},children:"Edit post"})]})})}function T(e){var t=e.feedbacks;return Object(E.jsxs)("ul",{children:[Object(E.jsx)(y.a,{color:"primary",gutterBottom:!0,children:Object(E.jsx)("span",{children:"Feedbacks:"})}),t.map((function(e){return Object(E.jsx)(F,{feedback:e},e.id)}))]})}function w(e){var t=e.feedback,n=t.id,c=t.title,i=t.description,r=t.rating;return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(S,{dataToEdit:{id:n,title:c,description:i,rating:r}}),Object(E.jsx)("span",{children:"Rating:"}),Object(E.jsx)(v.a,{name:"read-only",value:r,readOnly:!0}),Object(E.jsxs)("p",{children:["Title: ",c]}),Object(E.jsxs)("p",{children:["Description: ",i]}),Object(E.jsx)(o.b,{to:"/",children:"Go Back "})]})}function P(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),a=Object(s.a)(r,2),l=a[0],b=a[1];return Object(c.useEffect)((function(){console.log(n)}),[n]),Object(E.jsx)(o.a,{children:Object(E.jsxs)(d.c,{children:[Object(E.jsx)(d.a,{path:"/post/".concat(l),children:Object(E.jsx)(j.Provider,{value:{setFeedbacks:i},children:Object(E.jsx)(w,{feedback:n.find((function(e){return e.id===l}))})})}),Object(E.jsx)(d.a,{path:"/",children:Object(E.jsxs)(j.Provider,{value:{setFeedbacks:i,setEditPostId:b},children:[Object(E.jsx)(S,{}),Object(E.jsx)(T,{feedbacks:n})]})})]})})}a.a.render(Object(E.jsx)(P,{}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.635509cb.chunk.js.map